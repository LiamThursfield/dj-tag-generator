import{d as V,a as T,c as l,F as _,m as S,e as r,y,z as D,n as h,t as c,o as a,x as w,A as U,B as F,g as b,i as M,C as N,D as k,u as s,E as q,G as z,b as g,h as A,w as C,H as B}from"./app-CT1lPNVD.js";import{_ as L}from"./AudioEffectsSelector.vue_vue_type_script_setup_true_lang-CctgIdn1.js";import{q as P,c as j,d as E,_ as J}from"./index-DYxStMW5.js";import{u as G}from"./index-DySCa1yi.js";import{i as H,c as O,_ as Q,s as R}from"./AppLayout.vue_vue_type_script_setup_true_lang-CLjoeDZT.js";import{L as I}from"./loader-circle-Cjm8sYZt.js";import"./Checkbox.vue_vue_type_script_setup_true_lang-CgpgV2Vm.js";import"./useForwardPropsEmits-Dem99NT7.js";import"./VisuallyHidden-CBAVzGtn.js";import"./useForwardExpose-BdlkdtAL.js";import"./check-BLDtmiym.js";import"./Label.vue_vue_type_script_setup_true_lang-CqWlNAH5.js";import"./music-E6nEPpXi.js";const K={class:"grid grid-cols-1 gap-4 md:grid-cols-2"},W=["id","disabled","value"],X=["for"],Y={class:"mb-1 font-semibold"},Z={class:"text-center text-sm text-muted-foreground"},ee=V({__name:"ServiceSelector",props:{modelValue:{},availableServices:{}},emits:["update:modelValue"],setup(o,{emit:x}){const m=o,t=x,d=[{id:"elevenlabs",name:"ElevenLabs",description:"Premium, ultra-realistic voices.",disabled:!1},{id:"openai",name:"OpenAI (Coming Soon)",description:"Fast, cost-effective, great quality.",disabled:!0}],p=T({get:()=>m.modelValue,set:e=>t("update:modelValue",e)});return(e,i)=>(a(),l("div",K,[(a(),l(_,null,S(d,n=>r("div",{key:n.id},[y(r("input",{id:n.id,class:"peer sr-only",disabled:n.disabled,type:"radio",value:n.id,"onUpdate:modelValue":i[0]||(i[0]=f=>p.value=f)},null,8,W),[[D,p.value]]),r("label",{for:n.id,class:h(["flex flex-col items-center justify-between rounded-md border-2 border-muted bg-popover p-4 transition-all peer-checked:border-primary hover:bg-accent hover:text-accent-foreground",{"border-primary bg-accent/10":p.value===n.id,"cursor-not-allowed opacity-50":n.disabled,"cursor-pointer":!n.disabled}])},[r("span",Y,c(n.name),1),r("span",Z,c(n.description),1)],10,X)])),64))]))}}),u=o=>({url:u.url(o),method:"get"});u.definition={methods:["get","head"],url:"/voices"};u.url=o=>u.definition.url+P(o);u.get=o=>({url:u.url(o),method:"get"});u.head=o=>({url:u.url(o),method:"head"});const $=o=>({action:u.url(o),method:"get"});$.get=o=>({action:u.url(o),method:"get"});$.head=o=>({action:u.url({[o?.mergeQuery?"mergeQuery":"query"]:{_method:"HEAD",...o?.query??o?.mergeQuery??{}}}),method:"get"});u.form=$;Object.assign(u,u);const te={class:"space-y-2"},se={key:0,class:"flex items-center space-x-2 text-sm text-muted-foreground"},re={key:1,class:"text-sm text-destructive"},oe={key:2,class:"grid grid-cols-2 gap-3 sm:grid-cols-3"},le=["onClick"],ae={class:"text-sm font-medium"},ie={key:0,class:"line-clamp-1 text-xs text-muted-foreground"},de={key:1,class:"absolute top-2 right-2 flex h-2 w-2"},ne={key:3,class:"text-sm text-muted-foreground"},ue=V({__name:"VoicePicker",props:{modelValue:{},service:{},initialVoices:{}},emits:["update:modelValue"],setup(o,{emit:x}){const m=o,t=x,d=w([]),p=w(!1),e=w(null),i=async()=>{if(m.service){p.value=!0,e.value=null,d.value=[];try{const f=(await N.get(u.url({query:{service:m.service}}))).data.voices;Array.isArray(f)?d.value=f:d.value=Object.values(f),!m.modelValue&&d.value.length>0&&t("update:modelValue",d.value[0].id)}catch(n){console.error("Failed to fetch voices:",n),e.value=n.response?.data?.error||"Failed to load voices"}finally{p.value=!1}}};return U(()=>m.service,()=>{t("update:modelValue",""),i()}),F(()=>{i()}),(n,f)=>(a(),l("div",te,[p.value?(a(),l("div",se,[...f[0]||(f[0]=[r("svg",{class:"mr-3 -ml-1 h-5 w-5 animate-spin text-primary",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},[r("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"}),r("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})],-1),M(" Loading voices... ",-1)])])):e.value?(a(),l("div",re,c(e.value),1)):(a(),l("div",oe,[(a(!0),l(_,null,S(d.value,v=>(a(),l("button",{key:v.id,type:"button",onClick:Te=>t("update:modelValue",v.id),class:h(["relative flex flex-col items-start rounded-lg border p-3 text-left transition-all hover:bg-accent",o.modelValue===v.id?"border-primary bg-primary/5 ring-1 ring-primary":"border-input bg-card"])},[r("span",ae,c(v.name),1),v.description?(a(),l("span",ie,c(v.description),1)):b("",!0),v.gender?(a(),l("span",de,[r("span",{class:h(["absolute inline-flex h-full w-full animate-ping rounded-full opacity-75",o.modelValue===v.id?"bg-primary":""])},null,2)])):b("",!0)],10,le))),128))])),!p.value&&!e.value&&d.value.length===0?(a(),l("p",ne," No voices found for this service. ")):b("",!0)]))}}),ce=V({__name:"Textarea",props:{class:{},defaultValue:{},modelValue:{}},emits:["update:modelValue"],setup(o,{emit:x}){const m=o,d=G(m,"modelValue",x,{passive:!0,defaultValue:m.defaultValue});return(p,e)=>y((a(),l("textarea",{"onUpdate:modelValue":e[0]||(e[0]=i=>q(d)?d.value=i:null),"data-slot":"textarea",class:h(s(j)("border-input placeholder:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 flex field-sizing-content min-h-16 w-full rounded-md border bg-transparent px-3 py-2 text-base shadow-xs transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",m.class))},null,2)),[[k,s(d)]])}}),me={class:"mx-auto w-full max-w-4xl p-4 sm:p-6 lg:p-8"},pe={key:0,class:"mt-1 text-sm text-destructive"},fe={class:"space-y-2"},ve={key:0,class:"text-sm text-destructive"},ge={class:"text-right text-xs text-muted-foreground"},be={key:0,class:"mt-1 text-sm text-destructive"},xe={class:"grid grid-cols-1 gap-8 md:grid-cols-2"},_e={class:"space-y-4"},ye={class:"grid gap-2"},he={class:"text-sm text-muted-foreground"},Ve={key:0,class:"grid gap-2"},we={class:"text-sm text-muted-foreground"},ke={class:"space-y-4"},$e={class:"flex items-center justify-end gap-4 border-t border-border pt-4"},Ce={key:1},Se={key:0,class:"rounded-md bg-destructive/10 p-3 text-sm text-destructive"},Je=V({__name:"Create",props:{preferred_service:{},presets:{}},setup(o){const x=o,m=[{title:"Dashboard",href:E.url()},{title:"DJ Tags",href:H.url()},{title:"New Tag",href:O.url()}],t=z({text:"",service:x.preferred_service||"elevenlabs",voice_id:"",voice_settings:{speed:1,stability:.5},audio_effects:{pitch:0,speed:1,reverb:"none",bass_boost:!1,tremolo:!1,echo:!1,chorus:!1,lofi_telephone:!1,bitcrush:!1,normalize:!1},format:"mp3",rate_limit:null}),d=()=>{t.post(R.url(),{preserveScroll:!0,onSuccess:()=>{}})};return(p,e)=>(a(),l(_,null,[g(s(A),{title:"Create DJ Tag"}),g(Q,{breadcrumbs:m},{default:C(()=>[r("div",me,[e[12]||(e[12]=r("h1",{class:"mb-6 text-xl font-bold"},"Create New DJ Tag",-1)),r("form",{onSubmit:B(d,["prevent"]),class:"space-y-8 rounded-lg border border-border bg-card p-6 shadow"},[r("div",null,[e[6]||(e[6]=r("label",{for:"service",class:"block font-medium"}," Service ",-1)),g(ee,{modelValue:s(t).service,"onUpdate:modelValue":e[0]||(e[0]=i=>s(t).service=i),class:"mt-1"},null,8,["modelValue"]),s(t).errors.service?(a(),l("div",pe,c(s(t).errors.service),1)):b("",!0)]),r("div",null,[r("div",fe,[e[7]||(e[7]=r("label",{for:"text",class:"block font-medium"}," Tag Script ",-1)),g(s(ce),{modelValue:s(t).text,"onUpdate:modelValue":e[1]||(e[1]=i=>s(t).text=i),class:"min-h-18",placeholder:"Type your DJ drop text here..."},null,8,["modelValue"]),s(t).errors.text?(a(),l("div",ve,c(s(t).errors.text),1)):b("",!0),r("div",ge,c(s(t).text.length)+" / "+c(500)+" characters ",1)])]),r("div",null,[e[8]||(e[8]=r("label",{for:"text",class:"block font-medium"}," Voice ",-1)),g(ue,{class:"mt-1",modelValue:s(t).voice_id,"onUpdate:modelValue":e[2]||(e[2]=i=>s(t).voice_id=i),service:s(t).service},null,8,["modelValue","service"]),s(t).errors.voice_id?(a(),l("div",be,c(s(t).errors.voice_id),1)):b("",!0)]),r("div",xe,[r("div",_e,[e[9]||(e[9]=r("h4",{class:"border-b border-border pb-2 font-medium"}," Voice Settings ",-1)),r("div",ye,[r("label",he,"Speed (x"+c(s(t).voice_settings.speed)+")",1),y(r("input",{"onUpdate:modelValue":e[3]||(e[3]=i=>s(t).voice_settings.speed=i),class:"w-full accent-primary",max:"4.0",min:"0.25",step:"0.25",type:"range"},null,512),[[k,s(t).voice_settings.speed,void 0,{number:!0}]])]),s(t).service==="elevenlabs"?(a(),l("div",Ve,[r("label",we,"Stability ("+c(Math.round(s(t).voice_settings.stability*100))+"%)",1),y(r("input",{"onUpdate:modelValue":e[4]||(e[4]=i=>s(t).voice_settings.stability=i),class:"w-full accent-primary",max:"1",min:"0",step:"0.05",type:"range"},null,512),[[k,s(t).voice_settings.stability,void 0,{number:!0}]])])):b("",!0)]),r("div",ke,[e[10]||(e[10]=r("h4",{class:"border-b border-border pb-2 font-medium"}," Post-Processing ",-1)),g(L,{modelValue:s(t).audio_effects,"onUpdate:modelValue":e[5]||(e[5]=i=>s(t).audio_effects=i)},null,8,["modelValue"])])]),r("div",$e,[g(s(J),{disabled:s(t).processing,type:"submit"},{default:C(()=>[s(t).processing?(a(),l(_,{key:0},[g(s(I),{class:"h-5 w-5 animate-spin text-primary-foreground"}),e[11]||(e[11]=r("span",null,"Generating...",-1))],64)):(a(),l("span",Ce,"Generate Tag"))]),_:1},8,["disabled"])]),s(t).errors.rate_limit?(a(),l("div",Se,c(s(t).errors.rate_limit),1)):b("",!0)],32)])]),_:1})],64))}});export{Je as default};
